var a=Object.defineProperty;var u=(r,e,o)=>e in r?a(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o;var t=(r,e,o)=>(u(r,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();class l{constructor(e){t(this,"model");this.model=e}getState(){return this.model.getState()}increase(){return this.model.increase(),this.getState()}decrease(){return this.model.decrease(),this.getState()}asyncIncrease(){return new Promise(()=>{this.model.asyncIncrease()})}asyncDecrease(){return this.model.asyncDecrease()}}class h{constructor(){t(this,"state");this.state=0}increase(){this.state=this.state+1}decrease(){this.state--}asyncIncrease(){setTimeout(this.increase,1e3)}asyncDecrease(){return new Promise(e=>{setTimeout(()=>{this.decrease(),e(this.getState())},1e3)})}getState(){return this.state}}class d{constructor(e,o){t(this,"viewState");t(this,"root");t(this,"controller");t(this,"counterValue");t(this,"containerButtons");t(this,"incrementButton");t(this,"decrementButton");t(this,"asyncIncrementButton");t(this,"asyncDecrementButton");t(this,"handleIncrement",()=>{this.viewState=this.controller.increase(),this.updateCounter()});t(this,"handleDecrement",()=>{this.viewState=this.controller.decrease(),this.updateCounter()});t(this,"handleAsyncIncrease",()=>{this.controller.asyncIncrease().then(()=>{this.viewState=this.controller.getState(),this.updateCounter()})});t(this,"handleAsyncDecrease",()=>{this.controller.asyncDecrease().then(e=>{this.viewState=e,this.updateCounter()})});this.controller=o,this.root=e,this.viewState=this.controller.getState(),this.mountCounter()}mountCounter(){this.counterValue=document.createElement("div"),this.containerButtons=document.createElement("div"),this.incrementButton=document.createElement("button"),this.incrementButton.innerText="increase",this.incrementButton.addEventListener("click",this.handleIncrement),this.decrementButton=document.createElement("button"),this.decrementButton.innerText="decrease",this.decrementButton.addEventListener("click",this.handleDecrement),this.asyncIncrementButton=document.createElement("button"),this.asyncIncrementButton.innerText="increase in 1 second",this.asyncIncrementButton.addEventListener("click",this.handleAsyncIncrease),this.asyncDecrementButton=document.createElement("button"),this.asyncDecrementButton.innerText="decrease in 1 second",this.asyncDecrementButton.addEventListener("click",this.handleAsyncDecrease),this.containerButtons.appendChild(this.incrementButton),this.containerButtons.appendChild(this.decrementButton),this.containerButtons.appendChild(this.asyncIncrementButton),this.containerButtons.appendChild(this.asyncDecrementButton),this.root.appendChild(this.counterValue),this.root.appendChild(this.containerButtons),this.updateCounter()}updateCounter(){this.counterValue.innerText=`${this.viewState}`}}const m=new h,y=new l(m),p=document.getElementById("counter");new d(p,y);
